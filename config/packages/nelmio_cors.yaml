nelmio_cors:
    defaults:
        allow_methods: ["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
        allow_origin: ["http://localhost:5173"]
        allow_headers: ["*"]
        allow_credentials: true # <— must be true

        max_age: 3600
    paths:
        # '^/': null
        "^/api/":
            allow_origin: ["http://localhost:5173"] # your React dev URL
            allow_credentials: true # <— must be true
            allow_headers: ["Content-Type", "Authorization"]
            allow_methods: ["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
            # Allow *all* methods & headers on preflight for login_check
        '^/api/login_check$':
            allow_origin: ['http://localhost:5173']
            allow_headers: ['Content-Type', 'Authorization']
            allow_methods: ['OPTIONS', 'POST']
            max_age:       3600
            allow_credentials: true


