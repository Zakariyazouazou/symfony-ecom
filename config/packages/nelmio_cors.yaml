nelmio_cors:
    defaults:
        allow_methods: ["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
        allow_origin: ["http://localhost:5173"]
        allow_headers: ["*"]
        allow_credentials: true # <â€” must be true
        max_age: 3600

    paths:
    # 1. Specific login endpoint FIRST
        '^/api/':
            allow_origin: ['*']
            allow_headers: ['*']
            allow_methods: ['POST', 'PUT', 'GET', 'DELETE']
            max_age: 3600