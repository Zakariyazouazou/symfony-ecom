nelmio_cors:
    defaults:
        # origin_regex: true
        # allow_credentials: true
        # allow_origin: ['%env(CORS_ALLOW_ORIGIN)%']
        # allow_methods: ['GET', 'OPTIONS', 'POST', 'PUT', 'PATCH', 'DELETE']
        # allow_headers: ['Content-Type', 'Authorization']
        # expose_headers: ['Link']

        allow_methods: ["*"]
        allow_origin:
            - "https://your.frontend.com" # your live front‑end
            - "http://localhost:3000" # local React/Vue/whatever dev server
            - "http://localhost:5173" # local React/Vu
        allow_headers: ["*"]
        allow_credentials: true # <— must be true

        max_age: 3600
    paths:
        # '^/': null
        "^/api/":
            allow_origin: ["http://localhost:5173"] # your React dev URL
            allow_credentials: true # <— must be true
            allow_headers: ["Content-Type", "Authorization"]
            allow_methods: ["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
